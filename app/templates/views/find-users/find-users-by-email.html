{% extends "views/platform-admin/_base_template.html" %}
{% from "components/page-footer.html" import page_footer %}

{% block per_page_title %}
  Find users by e-mail
{% endblock %}

{% block org_page_title %}
  Find users by e-mail
{% endblock %}

{% block platform_admin_content %}

  <h1 class="heading-large">
    Find users by e-mail
  </h1>

  <form
    method="post"
    action="{{ url_for('.find_users_by_email') }}"
    class="grid-row"
  >
    <div class="column-three-quarters">
      {{ textbox(
        form.search,
        width='1-1',
        label='Find users by e-mail, or by partial e-mail'
      ) }}
    </div>
    <div class="column-one-quarter align-button-with-textbox">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <button type="submit" class="button">Search</button>
    </div>
  </form>

  <form id="search-form" method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
  </form>

  {% if users_found %}
  <nav class="browse-list">
    <ul>
    {% for user in users_found %}
      <li class="browse-list-item">
        <a href="#" class="browse-list-link">{{ user.email_address }}</a>
        <p class="browse-list-sub-item">{{ user.name }}</p>
      </li>
      <hr>
    {% endfor %}
    </ul>
  </nav>
  {% elif users_found == [] %}
    <p>No users found.</p>
  {% endif %}
{% endblock %}
